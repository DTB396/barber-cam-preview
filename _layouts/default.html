<!doctype html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}"{% if page.dir %} dir="{{ page.dir }}"{% endif %}>
  <head>
    {% include layout/head/head.html %}
    
    {%- comment -%} Custom CSS per page {%- endcomment -%}
    {% unless page.hide_barber_pole %}
    <link rel="stylesheet" href="{{ '/assets/css/components/barber-pole-spinner.css' | relative_url }}" />
    {% endunless %}
    
    {% if page.extra_css %}
      {% for css in page.extra_css %}
    <link rel="stylesheet" href="{{ css | relative_url }}" />
      {% endfor %}
    {% endif %}
    
    {%- comment -%} Page-specific head content {%- endcomment -%}
    {% if page.custom_head %}{{ page.custom_head }}{% endif %}
  </head>

  <body{% if page.body_class %} class="{{ page.body_class }}"{% endif %}{% if page.data_theme %} data-theme="{{ page.data_theme }}"{% endif %}>
    
    {%- comment -%} Skip to main content link for accessibility {%- endcomment -%}
    <a href="#main" class="skip-to-main" style="
      position: absolute;
      left: -9999px;
      z-index: 999;
      padding: 1rem;
      background: var(--color-primary);
      color: white;
      text-decoration: none;
    ">Skip to main content</a>

    {%- comment -%} Maintenance banner - sitewide {%- endcomment -%}
    {% if site.maintenance_mode or page.maintenance_banner %}
    {% include components/banners/maintenance-banner.html %}
    {% endif %}

    {%- comment -%} Header navigation {%- endcomment -%}
    {% unless page.hide_header %}
      {% include components/navigation/header.html %}
    {% endunless %}

    {%- comment -%} Main content area {%- endcomment -%}
    <main id="main" tabindex="-1"{% if page.main_class %} class="{{ page.main_class }}"{% endif %}{% if page.main_role %} role="{{ page.main_role }}"{% endif %}>
      {{ content }}
    </main>

    {%- comment -%} Footer {%- endcomment -%}
    {% unless page.hide_footer %}
      {% include layout/footer/footer.html %}
    {% endunless %}

    {%- comment -%} Barber pole spinner - decorative element {%- endcomment -%}
    {% unless page.hide_barber_pole %}
      {% if page.use_barber_spinner %}
        {% include components/barber-pole-spinner.html position=page.barber_pole_position size=page.barber_pole_size show_on=page.barber_pole_show_on %}
      {% endif %}
    {% endunless %}

    {%- comment -%} JavaScript includes {%- endcomment -%}
    {% if page.extra_js %}
      {% for js in page.extra_js %}
    <script src="{{ js | relative_url }}" defer></script>
      {% endfor %}
    {% endif %}
    
    {%- comment -%} Main site JavaScript {%- endcomment -%}
    {% unless page.no_main_js %}
    <script src="{{ '/assets/js/main.js' | relative_url }}" defer></script>
    {% endunless %}
    
    {%- comment -%} Page-specific inline scripts {%- endcomment -%}
    {% if page.custom_js %}
    <script>
      {{ page.custom_js }}
    </script>
    {% endif %}

    {%- comment -%} Analytics or tracking (if configured) {%- endcomment -%}
    {% if site.analytics_id and page.track_analytics != false %}
    <!-- Analytics code would go here -->
    {% endif %}

  </body>
</html>
