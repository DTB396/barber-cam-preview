<!doctype html>
<html lang="en" dir="/worker/">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta
  name="theme-color"
  content="#c41e3a"
/>

<title>Docket Upload Worker Setup</title>
<meta name="description" content="Personal Documentation &amp; Accountability Journal" />
<meta name="robots" content="index, follow" />

<link rel="canonical" href="https://barberx.info/worker/" />

<!-- Open Graph -->
<meta property="og:type" content="website" />
<meta
  property="og:site_name"
  content="BarberX.info"
/>
<meta property="og:title" content="Docket Upload Worker Setup" />
<meta property="og:description" content="Personal Documentation &amp; Accountability Journal" />
<meta property="og:url" content="https://barberx.info/worker/" /><meta property="og:image" content="https://barberx.info/assets/img/og-image.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" /><!-- Twitter -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Docket Upload Worker Setup" />
<meta name="twitter:description" content="Personal Documentation &amp; Accountability Journal" /><meta name="twitter:image" content="https://barberx.info/assets/img/og-image.png" /> <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "BarberX.info",
    "url": "https://barberx.info/",
    "description": "Personal Documentation &amp; Accountability Journal",
    "email": "BarberCamX@ProtonMail.com",
    "foundingDate": "2024"
  }
</script>

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "BarberX.info",
    "url": "https://barberx.info/",
    "inLanguage": "en-US"
  }
</script>


<link rel="stylesheet" href="/assets/css/style.css" />

<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@300;400;500;600;700&display=swap"
  rel="stylesheet"
/>

<!-- Icons -->
<link rel="icon" href="/assets/img/favicon.png" />
<link
  rel="apple-touch-icon"
  href="/assets/img/apple-touch-icon.png"
/>

    <link rel="stylesheet" href="/assets/css/components/barber-pole-spinner.css" />
    
    
    
  </head>

  <body><a href="#main" class="skip-to-main" style="
      position: absolute;
      left: -9999px;
      z-index: 999;
      padding: 1rem;
      background: var(--color-primary);
      color: white;
      text-decoration: none;
    ">Skip to main content</a>
      <header id="siteHeader" class="site-header" role="banner">
  <div class="container header-inner">
    <a class="brand" href="/" aria-label="Barber Cam home">
      <picture>
        <source srcset="/assets/img/logo/barbercam-header-lockup.dark.svg" media="(prefers-color-scheme: dark)">
        <source srcset="/assets/img/logo/barbercam-header-lockup.light.svg" media="(prefers-color-scheme: light)">
        <img class="brand-logo" src="/assets/img/logo/barbercam-header-lockup.svg" alt="Barber Cam" width="320" height="84" loading="eager" decoding="async">
      </picture>
    </a>

    <button class="nav-toggle" type="button"
      aria-expanded="false"
      aria-controls="primaryNav"
      aria-label="Open menu"
      data-nav-toggle>
      <span class="nav-toggle-bar"></span>
      <span class="nav-toggle-bar"></span>
      <span class="nav-toggle-bar"></span>
    </button>

    <nav id="primaryNav" class="main-nav" aria-label="Primary" data-nav>
      <ul class="nav-list">
        <li><a href="/cases/">Cases</a></li>
        <li><a href="/#preview">Preview</a></li>
        <li><a href="/#principles">Principles</a></li>
        <li><a href="/#status">Status</a></li>
        <li><a href="/#connect">Connect</a></li>
        <li><a href="/faq/">FAQ</a></li>
      </ul>
    </nav>
  </div>
</header>

    <main id="main" tabindex="-1">
      <article class="page shell u-max-w-4xl u-mx-auto"><header class="page-header u-mb-xl u-p-md" style="
    border: 1px solid rgba(255, 255, 255, 0.08); background: rgba(255, 255, 255, 0.02);
    border-radius: var(--radius-lg);
  ">
    <h1 class="page-title u-mb-sm u-text-highlight" style="font-size: clamp(2rem, 3vw, 3rem)">
      Docket Upload Worker Setup
    </h1>
    

  </header><section class="page-body u-pb-xl" style="line-height: 1.8;">
    <h1 id="docket-upload-worker-setup">Docket Upload Worker Setup</h1>

<p>This Cloudflare Worker enables PR-based docket uploads from the <code class="language-plaintext highlighter-rouge">/docket/submit/</code> form.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ol>
  <li>A Cloudflare account with Workers enabled</li>
  <li>A GitHub Personal Access Token (PAT) with <code class="language-plaintext highlighter-rouge">repo</code> scope</li>
</ol>

<h2 id="setup-steps">Setup Steps</h2>

<h3 id="1-create-github-personal-access-token">1. Create GitHub Personal Access Token</h3>

<ol>
  <li>Go to GitHub Settings &gt; Developer settings &gt; Personal access tokens &gt; Tokens (classic)</li>
  <li>Click “Generate new token (classic)”</li>
  <li>Give it a descriptive name: “FaithFrontier Docket Worker”</li>
  <li>Select scopes:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">repo</code> (Full control of private repositories)</li>
    </ul>
  </li>
  <li>Generate and save the token securely</li>
</ol>

<h3 id="2-deploy-worker-to-cloudflare">2. Deploy Worker to Cloudflare</h3>

<ol>
  <li>
    <p>Install Wrangler CLI:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> <span class="nt">-g</span> wrangler
</code></pre></div>    </div>
  </li>
  <li>
    <p>Login to Cloudflare:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wrangler login
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create a new worker:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>worker
wrangler init docket-upload
</code></pre></div>    </div>
  </li>
  <li>
    <p>Copy the <code class="language-plaintext highlighter-rouge">worker.js</code> content to your worker script</p>
  </li>
  <li>Configure the worker:
    <ul>
      <li>
        <p>Create <code class="language-plaintext highlighter-rouge">wrangler.toml</code>:</p>

        <div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">name</span> <span class="p">=</span> <span class="s">"docket-upload"</span>
<span class="py">main</span> <span class="p">=</span> <span class="s">"worker.js"</span>
<span class="py">compatibility_date</span> <span class="p">=</span> <span class="s">"2024-01-01"</span>

<span class="nn">[env.production]</span>
<span class="nn">vars</span> <span class="o">=</span> <span class="p">{</span> <span class="py">REPO_OWNER</span> <span class="p">=</span> <span class="s">"XTX33"</span><span class="p">,</span> <span class="py">REPO_NAME</span> <span class="p">=</span> <span class="s">"FaithFrontier"</span> <span class="p">}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p>Add the GitHub token as a secret:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wrangler secret put GITHUB_PAT
</code></pre></div>    </div>

    <p>When prompted, paste your GitHub token</p>
  </li>
  <li>
    <p>Deploy:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wrangler deploy
</code></pre></div>    </div>
  </li>
  <li>Note the worker URL (e.g., <code class="language-plaintext highlighter-rouge">https://docket-upload.your-subdomain.workers.dev</code>)</li>
</ol>

<h3 id="3-update-the-submit-form">3. Update the Submit Form</h3>

<p>Edit <code class="language-plaintext highlighter-rouge">/assets/js/docket-submit.js</code> and replace the placeholder URL with your worker URL:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">workerUrl</span> <span class="o">=</span>
  <span class="dl">"</span><span class="s2">https://docket-upload.your-subdomain.workers.dev/docket-upload</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="4-configure-cors-if-needed">4. Configure CORS (if needed)</h3>

<p>If your worker URL is different from <code class="language-plaintext highlighter-rouge">faithfrontier.org</code>, update the CORS origin in <code class="language-plaintext highlighter-rouge">worker.js</code>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">Access-Control-Allow-Origin</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://faithfrontier.org</span><span class="dl">'</span><span class="p">,</span>
</code></pre></div></div>

<h2 id="how-it-works">How It Works</h2>

<ol>
  <li>User fills out the form at <code class="language-plaintext highlighter-rouge">/docket/submit/</code></li>
  <li>JavaScript sends PDF + metadata to Cloudflare Worker</li>
  <li>Worker creates a new git branch</li>
  <li>Worker uploads PDF to <code class="language-plaintext highlighter-rouge">cases/</code>&lt;slug&gt;<code class="language-plaintext highlighter-rouge">/filings/</code></li>
  <li>Worker updates <code class="language-plaintext highlighter-rouge">_data/docket/</code>&lt;slug&gt;<code class="language-plaintext highlighter-rouge">.yml</code> with new entry</li>
  <li>Worker creates a Pull Request for review</li>
  <li>You review and merge the PR</li>
</ol>

<h2 id="security">Security</h2>

<ul>
  <li>The GitHub token only has <code class="language-plaintext highlighter-rouge">repo</code> scope (read/write repository access)</li>
  <li>Token is stored as a Cloudflare secret (encrypted at rest)</li>
  <li>CORS restricts requests to faithfrontier.org</li>
  <li>All uploads go through PR review before merging</li>
</ul>

<h2 id="alternative-manual-upload">Alternative: Manual Upload</h2>

<p>If you prefer not to use the worker, you can manually:</p>

<ol>
  <li>Upload PDFs to the correct folder: <code class="language-plaintext highlighter-rouge">cases/</code>&lt;slug&gt;<code class="language-plaintext highlighter-rouge">/filings/</code></li>
  <li>Edit <code class="language-plaintext highlighter-rouge">_data/docket/</code>&lt;slug&gt;<code class="language-plaintext highlighter-rouge">.yml</code> to add the entry</li>
  <li>Commit and push, or create a PR</li>
</ol>

<h2 id="troubleshooting">Troubleshooting</h2>

<ul>
  <li><strong>CORS errors</strong>: Check the <code class="language-plaintext highlighter-rouge">Access-Control-Allow-Origin</code> header in worker.js</li>
  <li><strong>401 errors</strong>: Verify the GitHub token is valid and has correct scopes</li>
  <li><strong>404 errors</strong>: Ensure repository name and owner are correct</li>
  <li><strong>Worker not found</strong>: Check the worker URL in docket-submit.js</li>
</ul>

<h2 id="testing">Testing</h2>

<p>Test the worker locally:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wrangler dev
</code></pre></div></div>

<p>Then update <code class="language-plaintext highlighter-rouge">docket-submit.js</code> temporarily to use <code class="language-plaintext highlighter-rouge">http://localhost:8787</code> for testing.</p>

  </section><footer class="page-footer u-mt-xl u-pt-lg" style="
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    font-size: 0.9rem;
    color: var(--color-text-muted);
  ">
    

    

    

    
  </footer>

</article><style media="print">
  .page-header { background: none !important; border: none !important; }
  .page-cta, .page-footer, .btn { display: none !important; }
  .page-body { color: #000 !important; }
</style>

    </main>
      <footer class="site-footer" role="contentinfo">
  <div class="container">
    <div class="footer-grid">
      <div class="footer-brand">
        <div class="footer-logo">
          <picture>
            <source
              srcset="/assets/img/logo/barbercam-footer-min.dark.svg"
              media="(prefers-color-scheme: dark)"
            />
            <source
              srcset="/assets/img/logo/barbercam-footer-min.light.svg"
              media="(prefers-color-scheme: light)"
            />
            <img
              src="/assets/img/logo/barbercam-footer-min.svg"
              alt="Barber Cam"
              width="220"
              height="44"
              loading="lazy"
              decoding="async"
            />
          </picture>
        </div>

        <p class="footer-tagline">Precision. Patience. Virtue. Honor.</p>
        <p class="footer-description">
          Citizen accountability through record, dignity, and due process.
        </p>

        <div class="footer-contact">
          <a
            href="mailto:BarberCamX@ProtonMail.com"
            class="contact-link"
          >
            <span>BarberCamX@ProtonMail.com</span>
          </a>
        </div>
      </div>

      <div class="footer-links">
  <h4>Navigate</h4>
  <nav aria-label="Footer navigation">
    <ul class="footer-nav-list">
      <li><a href="/cases/">Cases</a></li>
      <li><a href="/#preview">Preview</a></li>
      <li><a href="/#principles">Principles</a></li>
      <li><a href="/#status">Status</a></li>
      <li><a href="/#connect">Connect</a></li>
      <li><a href="/faq/">FAQ</a></li>
    </ul>
  </nav>
</div>

<div class="footer-links">
  <h4>Documentation</h4>
  <nav aria-label="Documentation navigation">
    <ul class="footer-nav-list">
      <li><a href="/docs/vision/">Vision</a></li>
      <li>
        <a href="/docs/governance-ethics/"
          >Governance &amp; Ethics</a
        >
      </li>
      <li>
        <a href="/docs/status/">Development Status</a>
      </li>
      <li><a href="/LICENSE">License</a></li>
    </ul>
  </nav>
</div>


      <div class="footer-notice">
        <h4>Public Notice</h4>
        <p>
          Under active development. No operational software, internal systems,
          or proprietary methods are published on this site.
        </p>
        <div class="footer-compliance">
          <span>Privacy-First</span><span>•</span><span>No Tracking</span
          ><span>•</span><span>No Data Sales</span>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="footer-copyright">
        <p>
          &copy; <span id="year">2026</span> Barber Cam.
          All rights reserved.
        </p>
        <p class="footer-legal">Built with precision in New York.</p>
      </div>

      <div class="footer-legal-links">
        <a href="/LICENSE">License</a>
        <span>•</span>
        <a href="mailto:BarberCamX@ProtonMail.com"
          >Contact</a
        >
      </div>
    </div>
  </div>
</footer>

    
      
    
    <script src="/assets/js/main.js" defer></script>
    

  </body>
</html>
